<div *ngIf="logged | async as user ; else showLogin">
  <mat-card class="logged">
    <h1>Hello {{ user.email }}!</h1>
    <button mat-stroked-button (click)="logout()">Logout</button>
  </mat-card>
</div>
<ng-template #showLogin>
  <mat-tab-group animationDuration="1000ms">
    <mat-tab label="Sign in">
      <mat-card>
        <mat-card-title>
          Signing in
        </mat-card-title>
        <mat-card-content>
          <form [formGroup]="user" (ngSubmit)="onSubmit()">
            <div class="container-mail">
              <mat-form-field>
                <input matInput placeholder="Enter your email" formControlName="email" required>
                <mat-error *ngIf="user.value.invalid">{{getErrorMessage()}}</mat-error>
              </mat-form-field>
            </div>
            <div class="container-password">
              <mat-form-field>
                <input matInput placeholder="Password" type="password" formControlName="password" minlength="6" required>
              </mat-form-field>
            </div>
            <button mat-stroked-button color="primary" [disabled]="!user.valid">Log In</button>
          </form>
        </mat-card-content>
      </mat-card>
    </mat-tab>
    <mat-tab label="Register">
      <mat-card>
        <mat-card-title>
          Registration (Отключена по требованию администрации)
        </mat-card-title>
        <mat-card-content>
          <form [formGroup]="register" (ngSubmit)="onSubmit()">
            <div class="container-mail">
              <mat-form-field>
                <input matInput placeholder="Enter your email" formControlName="email" required>
                <mat-error *ngIf="register.value.invalid">{{getErrorMessage()}}</mat-error>
              </mat-form-field>
            </div>
            <div class="container-password">
              <mat-form-field>
                <input matInput placeholder="Password" type="password" formControlName="password" minlength="6" required>
              </mat-form-field>
            </div>
            <button disabled mat-stroked-button color="primary">Register</button>
          </form>
        </mat-card-content>
      </mat-card>
    </mat-tab>
  </mat-tab-group>
</ng-template>

